var fs = require('fs'),
model = require('model');
 
function StartScreen() {

	/*------------------------------------------------------------------
		Variables
	------------------------------------------------------------------*/
	var $ = model.$, el;

	/*------------------------------------------------------------------
		Methods
	------------------------------------------------------------------*/
	function promptUserForShortHandDir() {
		$ = $ || model.$;

		$el = $('.toolholder');

		/*---------------
			Strings
		---------------*/
		var titleStr = "ShortHand repurposing tool";

		/*---------------
			Dom stuff
		---------------*/
		var appTitle = $('.appTitle');
		appTitle.html(titleStr);

		$el.empty();

		$el.load("../html/screens/startScreen.html", startScreenHtmlLoaded);

		/*---------------
			Listeners
		---------------*/

	}
	this.promptUserForShortHandDir = promptUserForShortHandDir;

	function startScreenHtmlLoaded() {
		var directoryBrowser = $("#folderBrowseInput");

		$("#folderBrowseButton").click(function () {
			directoryBrowser.trigger('click');
		});

		directoryBrowser.change(function(evt) {
			model.stateMachine.publishStateChange(model.appStates.CHECK_SHORTHAND_FOLDER, $(this).val());
		});
	}

	/*------------------------------------------------------------------
		UTILITIES
	------------------------------------------------------------------*/

}
 
module.exports = new StartScreen();